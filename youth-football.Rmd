---
title: "Youth Football Data Analysis"
output: html_notebook
---

```{r}
#libraries
library(tidyverse)
library(googlesheets4)
library(janitor)
#library(tidycensus)
#library(lubridate)
#install.packages("googlesheets4")
#install.packages("ipumsr")
#library(ipumsr)

#Authenticating with Google account
#gs4_auth()

```

```{r}

#Load Aspen Institute participation rate data

age_6_12 <- read_sheet("https://docs.google.com/spreadsheets/d/1AvA8phsRgDh9AXj0sMeH1zZQtjJP9JD-8A2AH9YrBzY/edit#gid=0", sheet = "Ages 6-12")

age_13_17 <- read_sheet("https://docs.google.com/spreadsheets/d/1AvA8phsRgDh9AXj0sMeH1zZQtjJP9JD-8A2AH9YrBzY/edit#gid=0", sheet = "Ages 13-17") 

```


```{r}

#Load football roster scraper
football_rosters <- read.csv("football_roster.csv") %>%
  clean_names()

#Checking to see that we have 68 schools and the player counts for each school
school_check <- football_rosters %>%
  group_by(school) %>%
  summarise(total_players = n()) %>%
  arrange(total_players)

#Checking to make sure there are no duplicate players
player_check <- football_rosters %>%
  group_by(name, school) %>%
  summarise(total = n()) %>%
  arrange(desc(total))

```

```{r}

# Load Census API key

Sys.setenv(CENSUS_API_KEY = "5cb2b9c628a1d1329c5bf4d36fe4435c6501efc8", overwrite = TRUE)

```
